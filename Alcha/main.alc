import "Platform/DE0-Nano-SoC" as Platform;
//------------------------------------------------------------------------------

import "Library/PLL_CycloneV";

net ResetKey = ~Platform.Keys[0];

PLL_CycloneV(Platform.Clock1, ResetKey, [100, 6.25]) PLL;
alias DspClock     = PLL.Output[0];
alias ControlClock = PLL.Output[1];
//------------------------------------------------------------------------------

import "Library/DelayedReset"

net MasterReset = DelayedReset(ControlClock, ResetKey | ~PLL.Locked, 100);
//------------------------------------------------------------------------------

import "SubSystems/SystemController";
//------------------------------------------------------------------------------

import "Library/Registers";
REGISTERS(SystemController.LightWeightBus) Registers;
//------------------------------------------------------------------------------

import "SubSystems/SharedResources";
//------------------------------------------------------------------------------

import "SubSystems/MasterTrigger";
//------------------------------------------------------------------------------

import "SubSystems/DataStreamer";
//------------------------------------------------------------------------------

import "SubSystems/WaveformGenerator";
//------------------------------------------------------------------------------

import "SubSystems/ReceiverAbstraction";
//------------------------------------------------------------------------------

import "SubSystems/RadarProcessor";
//------------------------------------------------------------------------------

import "SubSystems/DataLogger";
//------------------------------------------------------------------------------

Registers.GenerateCpp  ("../Software/Registers/Registers");
Registers.GenerateLaTeX("../Documentation/Registers");
//------------------------------------------------------------------------------

